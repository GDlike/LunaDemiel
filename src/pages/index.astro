---
import Layout from '../layouts/Layout.astro';
import BentoItem from '../components/BentoItem.astro';
import InfoPanel from '../components/InfoPanel.astro';
---

<Layout title="Borja & Susan | Luna de Miel Indonesia">
    
    <header slot="hero" class="relative w-full min-h-[90vh] flex flex-col justify-center items-center text-center overflow-hidden">
        <div class="absolute inset-0 z-0 select-none pointer-events-none">
            <img 
                src="https://iili.io/fUiEt49.png" 
                alt="Portada" 
                class="w-full h-full object-cover object-[15%_center] md:object-center scale-105 blur-[1px] opacity-80"
            />
            <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-black/60 to-[#0a0a0a]"></div>
            <div class="absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a] to-transparent"></div>
        </div>

        <div class="relative z-10 px-4 w-full max-w-4xl mx-auto flex flex-col items-center">
            <img 
                src="/logo.png" 
                alt="Logo Borja & Susan" 
                class="w-full max-w-[200px] md:max-w-[300px] mx-auto mb-6 mt-12 md:mt-10 drop-shadow-2xl rounded-2xl"
            />

            <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-black/40 backdrop-blur-md text-amber-300 text-xs font-bold border border-white/10 mb-6 animate-pulse shadow-lg">
                <span>‚úàÔ∏è 22 JULIO 2026 ‚Äî LA CUENTA ATR√ÅS</span>
            </div>

            <div id="countdown" class="grid grid-cols-4 gap-3 md:gap-6 w-full max-w-3xl mb-8">
                <div class="countdown-box"><span id="days">00</span><span class="label">D√≠as</span></div>
                <div class="countdown-box"><span id="hours">00</span><span class="label">Horas</span></div>
                <div class="countdown-box"><span id="minutes">00</span><span class="label">Min</span></div>
                <div class="countdown-box"><span id="seconds">00</span><span class="label">Seg</span></div>
            </div>

            <div class="flex flex-wrap justify-center gap-4 animate-fade-in">
                <div class="bg-white/5 backdrop-blur-md border border-white/10 px-4 py-2 rounded-2xl flex items-center gap-3 shadow-xl">
                    <span class="text-2xl" id="weather-emoji">‚òÄÔ∏è</span>
                    <div class="text-left">
                        <p class="text-[10px] text-zinc-400 uppercase font-bold leading-none mb-1">Ubud ahora</p>
                        <p class="text-white font-black leading-none" id="weather-temp">Cargando...</p>
                    </div>
                </div>
                <div class="bg-white/5 backdrop-blur-md border border-white/10 px-4 py-2 rounded-2xl flex items-center gap-3 shadow-xl">
                    <span class="text-2xl">üïí</span>
                    <div class="text-left">
                        <p class="text-[10px] text-zinc-400 uppercase font-bold leading-none mb-1">Hora Local</p>
                        <p class="text-white font-black leading-none" id="local-time">00:00:00</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
    </div>

    <div class="relative z-20 pt-20 md:pt-32 flex flex-col pb-20">
        <div class="text-center py-0 my-0">
            <h2 class="text-5xl md:text-7xl font-[900] text-white leading-none">
                Nuestros<br/>
                <span class="text-amber-500">Alojamientos:</span>
            </h2>
        </div>

        <div class="flex flex-col gap-32 md:gap-40 mt-12 px-4 max-w-7xl mx-auto">
            <section class="flex flex-col md:flex-row items-center gap-12 md:gap-20">
                <div class="w-full md:w-1/2 space-y-8">
                    <div>
                        <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-2 block">22-25 JUL ¬∑ 3 NOCHES</span>
                        <h2 class="text-4xl md:text-5xl font-[900] text-white mb-6 leading-tight">Selva de Ubud üêí</h2>
                        <p class="text-zinc-400 text-lg leading-relaxed mb-8">
                            Empezamos fuerte en el <strong>Kaamala Resort</strong>. Piscina privada y vistas a la selva.
                        </p>
                    </div>
                    <div class="grid gap-4">
                        <InfoPanel title="Cuidado con los Monos" text="En el 'Monkey Forest' les encantan las cosas brillantes. ¬°Guarda bien las gafas de sol!">
                            <svg slot="icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-1.3-3-3-1.3-3-3-1.3-3-3-1.3-3-3-3z"/><path d="M7 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-1.3-3-3-1.3-3-3-1.3-3-3-3z"/><path d="M12 2a7 7 0 0 0-2 13.5V18h4v-2.5A7 7 0 0 0 12 2z"/><path d="M9 18h6v4H9z"/></svg>
                        </InfoPanel>
                    </div>
                </div>
                <div class="w-full md:w-1/2 h-[500px] md:h-[600px] sticky top-24">
                    <BentoItem title="Kaamala Resort Ubud" subtitle="Alojamiento de Lujo" href="https://www.booking.com/hotel/id/kaamala-resort-ubud.es.html" class="h-full shadow-2xl shadow-amber-500/10">
                        <img slot="image" src="https://lh3.googleusercontent.com/p/AF1QipNhMv8_vY1jOJPhYqs68I6O7qktqmHEOwpYMDnz=s1360-w1360-h1020-rw" class="w-full h-full object-cover" />
                    </BentoItem>
                </div>
            </section>

            <section class="flex flex-col md:flex-row-reverse items-center gap-12 md:gap-20">
                <div class="w-full md:w-1/2 space-y-8">
                    <div>
                        <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-2 block">25-27 JUL ¬∑ 2 NOCHES</span>
                        <h2 class="text-4xl md:text-5xl font-[900] text-white mb-6 leading-tight">Villas y Acantilados üåä</h2>
                        <p class="text-zinc-400 text-lg leading-relaxed mb-8">Bajamos al sur para estar en <strong>Uluwatu</strong>. Atardeceres espectaculares.</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 h-[500px] md:h-[600px] sticky top-24">
                    <BentoItem title="Hideaway Villas" subtitle="Vistas al Oc√©ano" href="https://www.booking.com/hotel/id/hideaway-villas-bali.es.html" class="h-full shadow-2xl shadow-amber-500/10">
                        <img slot="image" src="https://images.trvl-media.com/lodging/14000000/13130000/13123100/13123041/9fce953e.jpg?impolicy=fcrop&w=1200&h=800&quality=medium" class="w-full h-full object-cover" />
                    </BentoItem>
                </div>
            </section>

            <section class="flex flex-col md:flex-row items-center gap-12 md:gap-20">
                <div class="w-full md:w-1/2 space-y-8">
                    <div>
                        <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-2 block">27-29 JUL ¬∑ 2 NOCHES</span>
                        <h2 class="text-4xl md:text-5xl font-[900] text-white mb-6 leading-tight">Seminyak Chic üç∏</h2>
                        <p class="text-zinc-400 text-lg leading-relaxed mb-8">En <strong>Montigo Resorts</strong> estamos en el epicentro de la moda Balinesa.</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 h-[500px] md:h-[600px] sticky top-24">
                    <BentoItem title="Montigo Resorts" subtitle="Zona de Moda" href="https://www.booking.com/hotel/id/montigo-resorts-seminyak.es.html" class="h-full shadow-2xl shadow-amber-500/10">
                        <img slot="image" src="https://lh3.googleusercontent.com/p/AF1QipOqIS3B4TTGlWFuMaTvO00zdMwfoPMx9lbQovgi=s1360-w1360-h1020-rw" class="w-full h-full object-cover" />
                    </BentoItem>
                </div>
            </section>

            <section class="flex flex-col md:flex-row-reverse items-center gap-12 md:gap-20">
                <div class="w-full md:w-1/2 space-y-8">
                    <div>
                        <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-2 block">29 JUL - 04 AGO ¬∑ 6 NOCHES</span>
                        <h2 class="text-4xl md:text-5xl font-[900] text-white mb-6 leading-tight">Para√≠so Descalzo üê¢</h2>
                        <p class="text-zinc-400 text-lg leading-relaxed mb-8">6 d√≠as en el <strong>Pearl of Trawangan</strong>. Sin coches, solo relax.</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 h-[500px] md:h-[600px] sticky top-24">
                    <BentoItem title="Pearl of Trawangan" subtitle="Isla sin Coches" href="https://www.booking.com/hotel/id/pearl-of-trawangan.es.html" class="h-full shadow-2xl shadow-amber-500/10">
                        <img slot="image" src="https://lh3.googleusercontent.com/gps-cs-s/AG0ilSxQ7yyVTLz2-dz3jof4uVwInEhfz5nG7k6xZwXrn1wLj0oT4IJp6QN3Nzk4koq_Xa2xSGDp1Cm8q76y5qvtSwrrhfidGoksxs2kFBHb-I84Iu9DLqLn2glVtW-YPDZFlkEtC3bp=s1360-w1360-h1020-rw" class="w-full h-full object-cover" />
                    </BentoItem>
                </div>
            </section>

            <section class="flex flex-col md:flex-row items-center gap-12 md:gap-20">
                <div class="w-full md:w-1/2 space-y-8">
                    <div>
                        <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-2 block">04-07 AGO ¬∑ 3 NOCHES</span>
                        <h2 class="text-4xl md:text-5xl font-[900] text-white mb-6 leading-tight">Lombok Salvaje ü••</h2>
                        <p class="text-zinc-400 text-lg leading-relaxed mb-8">Terminamos en <strong>Amber Lombok</strong>. Playas v√≠rgenes y paz total.</p>
                    </div>
                </div>
                <div class="w-full md:w-1/2 h-[500px] md:h-[600px] sticky top-24">
                    <BentoItem title="Amber Beach Resort" subtitle="Playa Virgen" href="https://www.booking.com/hotel/id/amber-beach-resort-lombok.es.html" class="h-full shadow-2xl shadow-amber-500/10">
                        <img slot="image" src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/569996718.jpg?k=4c0d7960c24e001da6648072c7986e7b27823b35dc1db04ee8fc6462310cb536&o=" class="w-full h-full object-cover" />
                    </BentoItem>
                </div>
            </section>
        </div>
    </div>

    <section class="relative z-20 max-w-4xl mx-auto px-4 mb-32 mt-10">
        <div class="bg-zinc-900/80 backdrop-blur-2xl border border-white/10 rounded-[3.5rem] p-8 md:p-16 shadow-[0_0_50px_rgba(0,0,0,0.5)]">
            <div class="text-center mb-12">
                <h3 class="text-4xl md:text-5xl font-[900] text-white mb-4">Balimetro: üå¥</h3>
                <p class="text-amber-500/80 text-sm font-bold uppercase tracking-[0.3em]">An√°lisis de nuestra supervivencia</p>
            </div>

            <div class="space-y-10">
                <div class="group">
                    <div class="flex justify-between items-end mb-3">
                        <span class="text-white font-bold text-lg flex items-center gap-3">ü•• Relax <span class="text-zinc-500 text-xs font-normal italic">(Masajes y piscinas)</span></span>
                        <span class="text-amber-400 font-black text-2xl">40%</span>
                    </div>
                    <div class="h-4 w-full bg-white/5 rounded-full p-1 border border-white/5">
                        <div class="h-full bg-gradient-to-r from-amber-600 to-amber-300 rounded-full animate-grow-40 shadow-[0_0_15px_rgba(245,158,11,0.3)]"></div>
                    </div>
                </div>

                <div class="group">
                    <div class="flex justify-between items-end mb-3">
                        <span class="text-white font-bold text-lg flex items-center gap-3">‚õ©Ô∏è Cultura <span class="text-zinc-500 text-xs font-normal italic">(Templos y ofrendas)</span></span>
                        <span class="text-amber-400 font-black text-2xl">30%</span>
                    </div>
                    <div class="h-4 w-full bg-white/5 rounded-full p-1 border border-white/5">
                        <div class="h-full bg-gradient-to-r from-amber-600 to-amber-300 rounded-full animate-grow-30 shadow-[0_0_15px_rgba(245,158,11,0.3)]"></div>
                    </div>
                </div>

                <div class="group">
                    <div class="flex justify-between items-end mb-3">
                        <span class="text-white font-bold text-lg flex items-center gap-3">üåã Aventura <span class="text-zinc-500 text-xs font-normal italic">(Motos, buceo y trekking)</span></span>
                        <span class="text-amber-400 font-black text-2xl">30%</span>
                    </div>
                    <div class="h-4 w-full bg-white/5 rounded-full p-1 border border-white/5">
                        <div class="h-full bg-gradient-to-r from-amber-600 to-amber-300 rounded-full animate-grow-30 shadow-[0_0_15px_rgba(245,158,11,0.3)]"></div>
                    </div>
                </div>

                <div class="pt-6">
                    <div class="flex justify-between items-end mb-3">
                        <span class="text-amber-400 font-black text-xl flex items-center gap-3 animate-pulse">üç∫ Cerveza Bintang <span class="text-amber-600 text-xs font-bold uppercase tracking-tighter">(INDISPENSABLE)</span></span>
                        <span class="text-amber-400 font-black text-3xl">100%</span>
                    </div>
                    <div class="h-6 w-full bg-white/5 rounded-full p-1 border border-amber-500/30 overflow-hidden relative">
                        <div class="h-full bg-gradient-to-r from-yellow-600 via-amber-400 to-yellow-600 rounded-full animate-grow-100 shadow-[0_0_30px_rgba(245,158,11,0.6)] relative overflow-hidden">
                            <div class="absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.2)_50%,transparent_75%)] bg-[length:250%_100%] animate-shimmer"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <p class="text-center text-zinc-500 text-xs mt-12 italic">Cualquier parecido con la realidad ser√° pura coincidencia (y mucha calor).</p>
        </div>
    </section>

    <footer class="py-10 border-t border-white/10 text-center text-zinc-600 text-sm relative z-20">
        <p>B&S 2026 ‚Äî Indonesia os espera.</p>
    </footer>

</Layout>

<style>
    .countdown-box { @apply flex flex-col items-center p-4 bg-black/40 backdrop-blur-lg rounded-2xl border border-white/10 shadow-lg; }
    .countdown-box span:first-child { @apply text-3xl md:text-5xl font-[900] text-white tabular-nums; }
    .countdown-box .label { @apply text-xs text-zinc-300 uppercase tracking-widest mt-2 font-bold; }

    /* ANIMACIONES BALI-O-METRO */
    @keyframes grow-40 { from { width: 0; } to { width: 40%; } }
    @keyframes grow-30 { from { width: 0; } to { width: 30%; } }
    @keyframes grow-100 { from { width: 0; } to { width: 100%; } }
    @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
    @keyframes fade-in { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .animate-grow-40 { animation: grow-40 2s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }
    .animate-grow-30 { animation: grow-30 2s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }
    .animate-grow-100 { animation: grow-100 2.5s cubic-bezier(0.17, 0.67, 0.83, 0.67) forwards; }
    .animate-shimmer { animation: shimmer 3s infinite linear; }
    .animate-fade-in { animation: fade-in 1s ease-out forwards; }
</style>

<script>
    // --- CUENTA ATR√ÅS ---
    const weddingDate = new Date(2026, 6, 22, 0, 0, 0).getTime();
    function updateCountdown() {
        const now = new Date().getTime();
        const distance = weddingDate - now;
        const countdownEl = document.getElementById("countdown");
        if (!countdownEl) return;
        if (distance < 0) {
            countdownEl.innerHTML = "<div class='text-3xl text-center text-white font-bold col-span-4 p-8 bg-amber-600/80 rounded-2xl backdrop-blur-md shadow-2xl animate-bounce'>¬°ESTAMOS DE VIAJE! ‚úàÔ∏è</div>";
            return;
        }
        const dEl = document.getElementById("days");
        const hEl = document.getElementById("hours");
        const mEl = document.getElementById("minutes");
        const sEl = document.getElementById("seconds");
        if(dEl && hEl && mEl && sEl) {
            dEl.innerText = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
            hEl.innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
            mEl.innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
            sEl.innerText = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
        }
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // --- CLIMA Y HORA EN UBUD ---
    async function updateWeather() {
        try {
            const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=-8.5069&longitude=115.2625&current_weather=true');
            const data = await response.json();
            const temp = Math.round(data.current_weather.temperature);
            const code = data.current_weather.weathercode;
            const tempEl = document.getElementById('weather-temp');
            const emojiEl = document.getElementById('weather-emoji');
            if(tempEl) tempEl.innerText = `${temp}¬∞C`;
            const emojis: Record<number, string> = { 0: "‚òÄÔ∏è", 1: "üå§Ô∏è", 2: "‚õÖ", 3: "‚òÅÔ∏è", 45: "üå´Ô∏è", 51: "üåßÔ∏è", 61: "üåßÔ∏è", 80: "üå¶Ô∏è", 95: "‚õàÔ∏è" };
            if(emojiEl) emojiEl.innerText = emojis[code] || "‚òÄÔ∏è";
        } catch (e) {}
    }

    function updateLocalTime() {
        const options: Intl.DateTimeFormatOptions = { timeZone: 'Asia/Makassar', hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
        const timeEl = document.getElementById('local-time');
        if(timeEl) timeEl.innerText = new Intl.DateTimeFormat([], options).format(new Date());
    }

    updateWeather();
    setInterval(updateLocalTime, 1000);
    updateLocalTime();
</script>