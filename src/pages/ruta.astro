---
import Layout from '../layouts/Layout.astro';
import InfoPanel from '../components/InfoPanel.astro';

// Datos de la ruta detallados
const timeline = [
    {
        type: 'flight',
        date: '21 JUL',
        title: 'Vuelo de Ida ‚úàÔ∏è',
        desc: 'Bilbao ‚Üí Barcelona ‚Üí Yakarta (Escala Yeda) ‚Üí Bali. ¬°Empieza la aventura!',
        icon: 'flight'
    },
    {
        type: 'stay',
        date: '22 - 25 JUL',
        title: 'Selva de Ubud',
        days: '3 Noches',
        desc: 'Check-in en Kaamala Resort. Masajes, Monkey Forest y arrozales.',
        color: 'text-green-400',
        bg: 'bg-green-500/10'
    },
    {
        type: 'stay',
        date: '25 - 27 JUL',
        title: 'Acantilados Uluwatu',
        days: '2 Noches',
        desc: 'Hideaway Villas. Surf, templo al atardecer y vistas al oc√©ano.',
        color: 'text-blue-400',
        bg: 'bg-blue-500/10'
    },
    {
        type: 'stay',
        date: '27 - 29 JUL',
        title: 'Noches en Seminyak',
        days: '2 Noches',
        desc: 'Montigo Resorts. Compras, Beach Clubs y buena cena.',
        color: 'text-yellow-400',
        bg: 'bg-yellow-500/10'
    },
    {
        type: 'ferry',
        date: '29 JUL (Ma√±ana)',
        title: 'Ferry a las Islas üö§',
        desc: 'Trayecto en barco r√°pido hacia Gili Trawangan.',
        icon: 'ship'
    },
    {
        type: 'stay',
        date: '29 JUL - 04 AGO',
        title: 'Relax en Gili T',
        days: '6 Noches',
        desc: 'Pearl of Trawangan. Snorkel con tortugas, bicis y atardeceres.',
        color: 'text-cyan-400',
        bg: 'bg-cyan-500/10'
    },
    {
        type: 'stay',
        date: '04 - 07 AGO',
        title: 'Salvaje Lombok',
        days: '3 Noches',
        desc: 'Amber Beach Resort. Playas v√≠rgenes y despedida.',
        color: 'text-orange-400',
        bg: 'bg-orange-500/10'
    },
    {
        type: 'flight',
        date: '08 AGO',
        title: 'Vuelta a Casa üè†',
        desc: 'Lombok ‚Üí Yakarta. Luego Yakarta ‚Üí Barcelona (Escala Yeda) ‚Üí Bilbao.',
        icon: 'home'
    }
];
---

<Layout title="Itinerario Completo | Borja & Susan">
    
    <header slot="hero" class="relative w-full min-h-[90vh] flex flex-col justify-center items-center text-center overflow-hidden">
        <div class="absolute inset-0 z-0 select-none pointer-events-none">
            <img 
                src="https://iili.io/fUiEt49.png" 
                alt="Portada" 
                class="w-full h-full object-cover scale-105 blur-[1px] opacity-80"
            />
            <div class="absolute inset-0 bg-gradient-to-b from-black/20 via-black/60 to-[#0a0a0a]"></div>
            <div class="absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-[#0a0a0a] via-[#0a0a0a] to-transparent"></div>
        </div>

        <div class="relative z-10 px-4 mt-10 w-full max-w-4xl mx-auto flex flex-col items-center">
            <img 
                src="/logo.webp" 
                alt="Logo Borja & Susan" 
                class="w-full max-w-[200px] md:max-w-[300px] mx-auto mb-8 drop-shadow-2xl rounded-2xl"
            />
        </div>
    </header>

    <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
        <span class="firefly"></span><span class="firefly"></span><span class="firefly"></span>
    </div>
    
    <div class="pt-10 pb-20 max-w-3xl mx-auto px-4 relative z-20">
        
        <header class="text-center mb-20">
            <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-4 block">18 D√çAS DE AVENTURA</span>
            <h1 class="text-5xl md:text-7xl font-[900] text-white mb-6">El Itinerario</h1>
            <p class="text-zinc-400 text-lg max-w-lg mx-auto">
                Paso a paso, desde que despegamos hasta que volvemos.
                Aqu√≠ est√° el plan maestro.
            </p>
        </header>

        <div class="relative pl-8 md:pl-0">
            
            <div class="absolute left-8 md:left-1/2 top-0 bottom-0 w-px bg-gradient-to-b from-amber-500 via-yellow-500 to-transparent md:-ml-0.5 h-full opacity-30"></div>

            {timeline.map((item, index) => (
                <div class={`relative mb-16 md:mb-24 flex flex-col md:flex-row items-center w-full group ${index % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
                    
                    <div class="w-full md:w-5/12 pl-12 md:pl-0 md:px-10">
                        <div class={`
                            relative p-6 rounded-2xl border border-white/5 backdrop-blur-sm
                            transition-all duration-300 hover:scale-105 hover:border-white/10 hover:bg-white/5
                            ${item.type === 'flight' || item.type === 'ferry' ? 'bg-zinc-900/40' : 'bg-zinc-900/80'}
                        `}>
                            <div class="flex justify-between items-start mb-2">
                                <span class="text-xs font-bold text-zinc-500 uppercase tracking-widest">{item.date}</span>
                                {item.days && <span class={`text-xs font-bold px-2 py-1 rounded-md ${item.bg} ${item.color}`}>{item.days}</span>}
                            </div>
                            
                            <h3 class={`text-xl font-bold text-white mb-2 ${item.type === 'flight' ? 'text-amber-300' : ''}`}>
                                {item.title}
                            </h3>
                            
                            <p class="text-zinc-400 text-sm leading-relaxed">
                                {item.desc}
                            </p>
                        </div>
                    </div>

                    <div class="absolute left-0 md:left-1/2 w-16 h-16 flex items-center justify-center -translate-x-1/2 md:translate-x-[-50%] z-10">
                        <div class={`
                            w-10 h-10 rounded-full border-4 border-[#0a0a0a] flex items-center justify-center shadow-[0_0_20px_rgba(99,102,241,0.5)]
                            ${item.type === 'flight' ? 'bg-amber-500 text-white' : 'bg-zinc-800 text-zinc-400 group-hover:bg-white group-hover:text-black transition-colors'}
                        `}>
                            {item.type === 'flight' && <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.2-1.1.7l-1.2 4 6 3.2-2 2-4-1.5L1 16l7.4 1.6c.7.1 1.4-.1 1.9-.4l4.1-3.2 2.6 5.2c.5.2.9.2 1.3 0l.6-.5c.2-.2.2-.6-.1-.9z"/></svg>}
                            
                            {item.type === 'stay' && <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>}
                            
                            {item.type === 'ferry' && <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 17l10-8 10 8"/><path d="M2 22h20"/><path d="M12 9V3"/><path d="M9 6h6"/></svg>}

                             {item.type === 'home' && <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>}
                        </div>
                    </div>

                    <div class="hidden md:block w-5/12"></div>
                    
                </div>
            ))}
            
            <div class="text-center pt-10">
                <p class="text-amber-400 text-sm font-bold tracking-widest uppercase">FIN DEL VIAJE</p>
            </div>

        </div>
    </div>
</Layout>

<style>
    /* Estilos Firefly (Copiados del index) */
    .firefly {
        position: absolute; width: 3px; height: 3px; background-color: #6366f1; border-radius: 50%;
        box-shadow: 0 0 10px 2px rgba(99,102,241, 0.4); opacity: 0;
        animation: floatUp 10s linear infinite, twinkle 4s ease-in-out infinite;
    }
    .firefly:nth-child(1) { left: 10%; animation-duration: 15s; }
    .firefly:nth-child(2) { left: 50%; animation-duration: 10s; animation-delay: 2s; }
    .firefly:nth-child(3) { left: 80%; animation-duration: 18s; animation-delay: 5s; }
    @keyframes floatUp { 0% { transform: translateY(100vh); } 100% { transform: translateY(-10vh); } }
    @keyframes twinkle { 0%, 100% { opacity: 0; } 50% { opacity: 0.8; } }
</style>