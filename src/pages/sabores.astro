---
import Layout from '../layouts/Layout.astro';
import BentoItem from '../components/BentoItem.astro';
import HeroShell from '../components/HeroShell.astro';

// Lista de platos vinculada a tus im√°genes locales en public/comida/
const platos = [
    { 
        name: "Nasi Goreng", 
        desc: "El desayuno, comida y cena nacional. Arroz frito al wok con kecap manis (soja dulce), chalotas, ajo y tamarindo. Siempre lleva un huevo frito encima (Telur Mata Sapi).",
        spicy: "üå∂Ô∏è Poco",
        img: "/comida/1.jpg",
        col: "md:col-span-2"
    },
    { 
        name: "Sate Ayam", 
        desc: "No son simples brochetas. Es pollo marinado en c√∫rcuma y asado sobre c√°scaras de coco. La clave es la salsa de cacahuete densa que lleva por encima.",
        spicy: "üå∂Ô∏è Medio",
        img: "/comida/2.jpg",
        col: "md:col-span-1"
    },
    { 
        name: "Babi Guling", 
        desc: "El Rey de Bali. Cerdo asado entero relleno de 'bumbu' (pasta de especias). Se sirve un poco de todo: carne jugosa, piel crujiente y chicharrones.",
        spicy: "üå∂Ô∏èüå∂Ô∏èüå∂Ô∏è Fuego",
        img: "/comida/3.jpg",
        col: "md:col-span-1"
    },
    { 
        name: "Bebek Betutu", 
        desc: "Pato ceremonial. Se frota con especias, se envuelve en hojas de pl√°tano y corteza de palma, y se entierra en brasas para cocinarse 12 horas. Se deshace solo.",
        spicy: "üå∂Ô∏èüå∂Ô∏è Picante",
        img: "/comida/4.jpg",
        col: "md:col-span-2"
    },
    { 
        name: "Mie Goreng", 
        desc: "Fideos de huevo amarillos salteados con verduras, pollo y gambas. Es la comida callejera por excelencia junto con el Nasi Goreng.",
        spicy: "üå∂Ô∏è Poco",
        img: "/comida/5.jpg",
        col: "md:col-span-1"
    },
    { 
        name: "Nasi Campur", 
        desc: "Significa 'Arroz Mezclado'. Una bola de arroz rodeada de peque√±as porciones de todo: verduras, carne, tempeh, cacahuetes y huevo. ¬°La mejor forma de probarlo todo!",
        spicy: "üå∂Ô∏è Var√≠a",
        img: "/comida/6.jpg",
        col: "md:col-span-1"
    },
    { 
        name: "Gado Gado", 
        desc: "La ensalada indonesia. Verduras blanqueadas, tofu, tempeh y huevo duro, todo ba√±ado (literalmente) en salsa de cacahuete tibia.",
        spicy: "üå∂Ô∏è Nada",
        img: "/comida/7.jpg",
        col: "md:col-span-1"
    },
    { 
        name: "Klepon", 
        desc: "El dulce m√°s famoso. Bolitas de arroz glutinoso verde (por el pandan) rellenas de az√∫car de palma l√≠quido que explota en la boca. Rebozadas en coco.",
        spicy: "ü•• Dulce",
        img: "/comida/8.jpg",
        col: "md:col-span-1"
    },
    { 
        name: "Pisang Goreng", 
        desc: "Pl√°tano frito rebozado. Simple pero brutal. En Bali lo sirven con miel o az√∫car de palma. Perfecto para el atardecer con un t√©.",
        spicy: "üçØ Dulce",
        img: "/comida/9.jpg",
        col: "md:col-span-2"
    },
];
---

<Layout title="Gastronom√≠a de Indonesia | B&S">
  <HeroShell slot="hero" />

  <div class="pt-10 pb-20 px-4 max-w-7xl mx-auto relative z-20">
    <div class="text-center mb-20">
      <span class="text-amber-400 font-bold tracking-widest uppercase text-sm mb-4 block">GU√çA FOODIE</span>
      <h1 class="text-5xl md:text-7xl font-[900] text-white mb-6">Sabores de la Isla üå∂Ô∏è</h1>
      <p class="text-zinc-400 text-xl max-w-3xl mx-auto">
        La comida en Indonesia es intensa, especiada y colorida. Hemos seleccionado los <strong>9 platos</strong> que no podemos irnos sin probar. (Ojo al Sambal, la salsa roja: pica a traici√≥n).
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[400px]">
      {platos.map((plato, i) => (
        <div class={`relative group rounded-[2rem] overflow-hidden border border-white/10 shadow-2xl ${plato.col}`}>
          {/* 
            - loading lazy para no cargar todo de golpe
            - decoding async para que el render no se bloquee
            - width/height para reducir CLS (Leaflet, fuentes, etc. ya meten bastante movimiento)
            - los 2 primeros eager por percepci√≥n de velocidad
          */}
          <img
            src={plato.img}
            alt={plato.name}
            loading={i < 2 ? "eager" : "lazy"}
            decoding="async"
            fetchpriority={i === 0 ? "high" : "auto"}
            width="1600"
            height="1200"
            class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-90"></div>

          <div class="absolute bottom-0 left-0 p-8 w-full z-10">
            <div class="flex flex-col items-start gap-2 mb-3">
              <span class="bg-amber-600/80 backdrop-blur-md px-3 py-1 rounded-lg text-xs font-bold text-white border border-white/20 shadow-lg">
                {plato.spicy}
              </span>
              <h3 class="text-4xl font-[900] text-white leading-none">{plato.name}</h3>
            </div>
            <p class="text-zinc-300 text-sm md:text-base leading-relaxed opacity-90 font-medium max-w-prose">
              {plato.desc}
            </p>
          </div>
        </div>
      ))}
    </div>

    <div class="mt-24 p-10 bg-gradient-to-br from-zinc-900 to-black border border-white/10 rounded-[3rem] text-center shadow-2xl relative overflow-hidden">
      <div class="absolute top-0 right-0 w-64 h-64 bg-amber-600/20 blur-[100px] rounded-full"></div>
      <div class="relative z-10">
        <h3 class="text-3xl font-bold text-white mb-4">üí° El Secreto: Los "Warungs"</h3>
        <p class="text-zinc-400 text-lg max-w-2xl mx-auto">
          Huid de los restaurantes occidentales caros. La comida aut√©ntica est√° en los <strong>Warungs</strong> (peque√±os negocios familiares).
          Se come por 2-3‚Ç¨ y el sabor es incomparable. Buscad los que est√©n llenos de locales.
        </p>
      </div>
    </div>
  </div>
</Layout>
